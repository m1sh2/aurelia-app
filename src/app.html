<template>
  <div class="container">
    <div class="well">
      <form class="form-inline" submit.trigger="addTodo()">
        <input
          type="text"
          class="form-control"
          id="todoDescription"
          placeholder="Todo title or description"
          size="19"
          value.bind="todoDescription"
        >

        <select value.bind="todoType" class="form-control">
          <option value="story">Story</option>
          <option value="bug">Bug</option>
        </select>

        <button class="btn btn-sm btn-success" type="submit">
          <span class="glyphicon glyphicon-plus"></span>
        </button>
      </form>
    </div>

    <table class="table">
      <tr
        repeat.for="todo of todos"
        class="${todo.type === 'story'? 'bg-info' : 'bg-danger'}"
        >
        <td width="20">
          <span
            if.bind="todo.done"
            class="glyphicon glyphicon-check"
            click.trigger="check(todo, false)"
            >
          </span>
          <span
            if.bind="!todo.done"
            class="glyphicon glyphicon-unchecked"
            click.trigger="check(todo, true)"
            >
          </span>
        </td>
        <td>
          <span css="text-decoration: ${todo.done ? 'line-through' : 'none'}">
            ${todo.description} ${todo.type}
          </span>
        </td>
        <td width="30">
          <button class="btn btn-xs btn-danger" click.trigger="removeTodo(todo)">
            <span class="glyphicon glyphicon-remove"></span>
          </button>
        </td>
      </tr>
    </table>
  </div>
</template>
